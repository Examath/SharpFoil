@using SharpFoil.Model
@inject IJSRuntime JSRuntime

<div id="profileCanvasContainer" style="width: 100%; height: 100%;">
    <canvas id="profileCanvas"/>
</div>

@code {
    [Parameter]
    public List<StyledPointProfile> Profiles { get; set; }

    //bool IsFirstRendered = false;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeVoidAsync("profileCanvas.link");
        }
    }

    protected override async Task OnParametersSetAsync()
    {
        await JSRuntime.InvokeVoidAsync("profileCanvas.set", Profiles);
    }
}
